{
    "author": "Anaren Inc.",
    "categories": [
        "Lightning",
        "Sensor"
    ],
    "code": {
        "connected": "",
        "global": "",
        "interval": "",
        "setup": ""
    },
    "description": "What if you need to know when the approaching storm is going to be overhead?\n The MOD-1016, based on the AS3935 from AMS, can detect storm front up to 40km away.\n Trigger interrupts on your microcontroller to let you know about weather events and changes in storm distance,\n you can even tell as storm fronts move closer or further away.",
    "elements": {
        "detectLightning": {
            "code": "    int value;\n\n    /**\n    Detect oncoming lightning storm fronts up to 40km away.\n    @param id device ID (0 to 7) on i2c bus.\n    @return Estimated distance of storm front in km.\n    */\n    value = AS3935_GetDistanceEstimation(0);\n\n    return value;\n",
            "icon": "data:image/png;base64,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\nAAAAAElFTkSuQmCC\n",
            "inputType": "void",
            "label": "Detect Lightning",
            "language": {
                "en": {
                    "label": "Detect Lightning"
                }
            },
            "returnType": "int"
        }
    },
    "files": {
        "common": {
            "headers": {
                "as3935.h": "// Copyright (c) 2016, Anaren Inc.\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n// 1. Redistributions of source code must retain the above copyright notice, this\n//    list of conditions and the following disclaimer.\n// 2. Redistributions in binary form must reproduce the above copyright notice,\n//    this list of conditions and the following disclaimer in the documentation\n//    and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n// ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n// WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n// DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n// ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n// (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n// LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n// ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n// SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n//\n// The views and conclusions contained in the software and documentation are those\n// of the authors and should not be interpreted as representing official policies,\n// either expressed or implied, of the FreeBSD Project.\n\n#ifndef AS3935_H\n#define AS3935_H\n\n#include \"../i2c/i2c.h\"\n#include \"as3935_config.h\"\n#include <stdint.h>\n\n//------------------------------------------------------------------------------\n/**\n *  Defines, enumerations, and structure definitions\n */\n#ifndef bool\n#define bool uint8_t\n#endif\n\n#ifndef true\n#define true 1\n#endif\n\n#ifndef false\n#define false 0\n#endif\n\n//------------------------------------------------------------------------------\n/**\n *  Defines, enumerations, and structure definitions\n */\n\n//The MOD-1016 Board uses I2C Address 0x03 since both SD0 and SD1 pins are pulled high.\n#define AS3935_I2C_BASE_ADDR      \t  0x03\n\n#define AS3935_PWD_AFEGB_REG_ADDR     0x00\n#define AS3935_NFLV_WDTH_REG_ADDR     0x01\n#define AS3935_MIN_LIGHT_REG_ADDR     0x02\n#define AS3935_MASK_DIST_REG_ADDR     0x03\n#define AS3935_LIGHT_LSB_REG_ADDR     0x04\n#define AS3935_LIGHT_MSB_REG_ADDR     0x05\n#define AS3935_LIGHT_MMS_REG_ADDR     0x06\n#define AS3935_DIST_ESTI_REG_ADDR     0x07\n#define AS3935_DISP_IRQ_REG_ADDR      0x08\n\n//Lightning Detection Lookup Table\n#define AS3935_LDLUT1_REG_ADDR        0x09\n#define AS3935_LDLUT2_REG_ADDR        0x0A\n#define AS3935_LDLUT3_REG_ADDR        0x0B\n#define AS3935_LDLUT4_REG_ADDR\t\t  0x0C\n#define AS3935_LDLUT5_REG_ADDR        0x0D\n#define AS3935_LDLUT6_REG_ADDR\t      0x0E\n#define AS3935_LDLUT7_REG_ADDR\t\t  0x0F\n#define AS3935_LDLUT8_REG_ADDR\t\t  0x10\n#define AS3935_LDLUT9_REG_ADDR\t\t  0x11\n#define AS3935_LDLUT10_REG_ADDR\t\t  0x12\n#define AS3935_LDLUT11_REG_ADDR\t\t  0x13\n#define AS3935_LDLUT12_REG_ADDR\t\t  0x14\n#define AS3935_LDLUT13_REG_ADDR\t\t  0X15\n#define AS3935_LDLUT14_REG_ADDR\t\t  0X16\n#define AS3935_LDLUT15_REG_ADDR\t\t  0X17\n#define AS3935_LDLUT16_REG_ADDR\t\t  0X18\n#define AS3935_LDLUT17_REG_ADDR\t\t  0X19\n#define AS3935_LDLUT18_REG_ADDR\t\t  0X1A\n#define AS3935_LDLUT19_REG_ADDR\t\t  0X1B\n#define AS3935_LDLUT20_REG_ADDR\t\t  0X1C\n#define AS3935_LDLUT21_REG_ADDR\t\t  0X1D\n#define AS3935_LDLUT22_REG_ADDR\t\t  0X1E\n#define AS3935_LDLUT23_REG_ADDR\t\t  0X1F\n#define AS3935_LDLUT24_REG_ADDR\t\t  0X20\n#define AS3935_LDLUT25_REG_ADDR\t\t  0X21\n#define AS3935_LDLUT26_REG_ADDR\t\t  0X22\n#define AS3935_LDLUT27_REG_ADDR\t\t  0X23\n#define AS3935_LDLUT28_REG_ADDR\t\t  0X24\n#define AS3935_LDLUT29_REG_ADDR\t\t  0X25\n#define AS3935_LDLUT30_REG_ADDR\t\t  0X26\n#define AS3935_LDLUT31_REG_ADDR\t\t  0X27\n#define AS3935_LDLUT32_REG_ADDR\t\t  0X28\n#define AS3935_LDLUT33_REG_ADDR\t\t  0X29\n#define AS3935_LDLUT34_REG_ADDR\t\t  0X2A\n#define AS3935_LDLUT35_REG_ADDR\t\t  0X2B\n#define AS3935_LDLUT36_REG_ADDR\t\t  0X2C\n#define AS3935_LDLUT37_REG_ADDR\t\t  0X2D\n#define AS3935_LDLUT38_REG_ADDR\t\t  0X2E\n#define AS3935_LDLUT39_REG_ADDR\t\t  0X2F\n#define AS3935_LDLUT40_REG_ADDR\t\t  0X30\n#define AS3935_LDLUT41_REG_ADDR\t\t  0X31\n#define AS3935_LDLUT42_REG_ADDR\t\t  0X32\n\n/**\n * It is possible to send direct commands writing 0x96 to the registers\n * REG0x3C and REG0x3D.\n */\n#define AS3935_PRESET_DEF_REG_ADDR    0x3C\n#define AS3935_CALIBR_RCO_REG_ADDR    0x3D\n#define AS3935_DIRECT_CMD_REG_VALU    0x96\n\n\n/**\n * MASKS and other values. Analog Front End operating modes are defined here.\n *\n */\n#define AFE_MASK\t 0b11000001\n#define AFE_OUTDOOR\t 0b00100100\n#define AFE_INDOOR\t 0b00011100\n#define INTRPT_MASK  0b11110000\n#define INTRPT_RESET 0b0000\n\n/**\n *  eAS3935Mode - type indicating the operating mode of the AS3935 device.  The\n *  AS3935 offers three modes: Power Down, Listening, and Signal Verification.  When\n *  ultra-low power consumption is important, the application should place the\n *  device in Power Down Mode when lightning measurements are not needed.\n *\n *  In Listening Mode the Analog Front End (AFE), noise floor level generation,\n *  the bias block, the TRCO, and the voltage regulator (if enabled) are running.\n *\tIn this mode the system can push down the power consumption to a minimum,\n *\t(60\ufffdA). In case the maximum voltage supply does not exceed 3.6V,\n *\tit is possible to switch off the voltage regulator to save power.\n *\n *  The AS3935 enters Signal Verification Mode when the watchdog detects activity\n *  picked up by the antenna. The IC will leave this mode either if the incoming signal\n *  is classified as a disturber or if the analysis of the single event (lightning)\n *  is finished. If the received signal is classified as a disturber, then the AS3935\n *  will automatically go back to listening mode without any needed action from outside\n *  and an interrupt will be generated. If the received pattern matches all requirements,\n *  the energy calculation is performed and the AS3935 provides distance estimation.\n *\n */\nenum eAS3935Mode\n{\n  AS3935_PowerDown             = 0x0000,\n  AS3935_Listening\t\t\t   = 0x0001,\n  AS3935_SignalVerification    = 0x7000\n};\n\n/**\nWrite a 8-bit value to a device register.  This function does not do any\nform of error checking, so trying to write to one of the read-only registers may\nresult in undesirable behavior.\n@param id device ID (0 to 7) on i2c bus\n@param addr device register address\n@param data data to be written to the specified register address\n*/\nvoid AS3935_WriteReg(uint8_t id, uint8_t addr, uint8_t data);\n//MAY HAVE TO CHANGE BACK DATA TO UINT16_T\n/**\nRead a 8-bit value from a device register.\n@param id device ID (0 to 7) on i2c bus\n@param addr device register address\n@return data read from the specified register address\n*/\nuint8_t AS3935_ReadReg(uint8_t id, uint8_t addr);\n\n/**\n * Get the estimated distance to the lightning storm in kilometers.\n * Values beyond 40 are out of range.\n * Values less than 5 mean that the storm is overhead\n * @param id device ID (0 to 7) on i2c bus\n*/\nuint8_t AS3935_GetDistanceEstimation(uint8_t id);\n\n/**\n * Calibrate the RC Oscillators automatically.\n * @param id device ID (0 to 7) on i2c bus\n */\nvoid AS3935_CalibrateRCO(uint8_t id);\n\n/**\n * Sets all registers to default mode.\n * @param id device ID (0 to 7) on i2c bus\n */\nvoid AS3935_PresetRegisterDefaults(uint8_t id);\n\n/*\n * Set the analog front end and watchdog operating mode.\n * Refer above for possible operating modes.\n * @param id device ID (0 to 7) on i2c bus\n * @param mode Operating Mode for AFE, can be AFE_INDOOR or AFE_OUTDOOR.\n */\nvoid AS3935_SetAnalogFrontEnd(uint8_t id, uint8_t mode);\n\n/**\n * Retrieve the current operating mode of the AFE and watchdog.\n * @param id device ID (0 to 7) on i2c bus\n */\nuint8_t AS3935_GetAnalogFrontEnd(uint8_t id);\n\n/**\n * Disable the disturber detection feature on the AS3935.\n * @param id device ID (0 to 7) on i2c bus\n */\nvoid AS3935_DisableDisturbers(uint8_t id);\n\n/**\n * Enable the disturber detection feature on the AS3935.\n * @param id device ID (0 to 7) on i2c bus\n */\nvoid AS3935_EnableDisturbers(uint8_t id);\n\n/**\n * Get the defined minimum number of lightning events in the last 17 minutes that issue a lightning interrupt.\n * @param id device ID (0 to 7) on i2c bus\n */\nuint8_t AS3935_GetMinimumLightnings(uint8_t id);\n\n/**\n * Set the defined minimum number of lightning events in the last 17 minutes that issue a lightning interrupt.\n * @param id device ID (0 to 7) on i2c bus\n * @param minimumLightning (1 to 16)\n */\nuint8_t AS3935_SetMinimumLightnings(uint8_t id, uint8_t minimumLightning);\n\n/**\n * Get the defined threshold for the noise floor that triggers an interrupt.\n * @param id device ID (0 to 7) on i2c bus\n */\nuint8_t AS3935_GetNoiseFloor(uint8_t id);\n\n/**\n * Set the defined threshold for the noise floor that triggers an interrupt.\n * @param id device ID (0 to 7) on i2c bus\n * @param noiseFloor (0b000 to 0b111)\n */\nuint8_t AS3935_SetNoiseFloor(uint8_t id, int noiseFloor);\n\n/**\n * Read the current state of the interrupt register.\n * Issue a 2 millisecond delay per the datasheet recommendations.\n * @param id device ID (0 to 7) on i2c bus\n */\nuint8_t AS3935_ReadInterruptRegister(uint8_t id);\n\n/**\n* Reset the interrupt register.\n* @param id device ID (0 to 7) on i2c bus\n*/\nvoid AS3935_ResetInterruptRegister(uint8_t id);\n\n\n#endif\n"
            },
            "objects": {
                "as3935_common.c": "/**\n *  ----------------------------------------------------------------------------\n *  Copyright (c) 2016, Anaren Microwave, Inc.\n *\n *  For more information on licensing, please see Anaren Microwave, Inc's\n *  end user software licensing agreement: EULA.txt.\n *\n *  ----------------------------------------------------------------------------\n *\n *  as3935_common.c - driver interface for the ams AG AS3935 Frankling Lightning\n *  Sensor.\n *\n *  @version    1.0.0\n *  @date       19 Sep 2016\n *  @author     Anaren, air@anaren.com\n *\n *  assumptions\n *  ===========\n *  - The i2c driver provides the proper signaling sequences for read & write\n *    operations.\n *  - The i2c driver meets the timing requirements specified in the AS3935\n *    datasheet.\n *\n *  file dependency\n *  ===============\n *  i2c.h : defines the i2c read & write interfaces.\n *\tmath.h : floating point calculations.\n *\tfp_math.h : floating point calculations using fixed point math.  Use when math.h not implemented.\n *\n *  revision history\n *  ================\n *  ver 1.0.00 : 19 September 2016\n *  - initial development, replace this line upon release.\n */\n#include \"as3935.h\"\n\n// -----------------------------------------------------------------------------\n/**\n *  Global data\n */\n// -----------------------------------------------------------------------------\n/**\n *  Private interface\n */\n\n\n\n// -----------------------------------------------------------------------------\n/**\n *  Public interface\n */\n\n/**\n * Write to specified register on the AS3935.\n */\nvoid AS3935_WriteReg(uint8_t id, uint8_t addr, uint8_t data)\n{\n  uint8_t writeBytes[2];\n  writeBytes[0] = addr;\n  writeBytes[1] = data;\n  AIR_I2C_Write(AS3935_I2C_BASE_ADDR + id, writeBytes, 2);\n}\n\n/**\n * Read data from specified register\n */\nuint8_t AS3935_ReadReg(uint8_t id, uint8_t addr)\n{\n  uint8_t writeBytes[1] = {0};\n  uint8_t readBytes[1] = {0};\n  AIR_I2C_ComboRead(AS3935_I2C_BASE_ADDR + id, writeBytes, 1, readBytes, 1);\n  return readBytes[0];\n}\n\n/**\n * Get the estimated distance to the lightning storm in kilometers.\n * Also resets the contents of the Interrupt register.\n * Values beyond 40 are out of range.\n * Values less than 5 mean that the storm is overhead.\n */\nuint8_t AS3935_GetDistanceEstimation(uint8_t id)\n{\n  uint8_t distanceEstimate = (uint8_t)AS3935_ReadReg(id, AS3935_DIST_ESTI_REG_ADDR);\n//  AS3935_ResetInterruptRegister(id);\n  return distanceEstimate;\n}\n\n/**\n * Calibrate the RC Oscillators automatically.\n */\nvoid AS3935_CalibrateRCO(uint8_t id)\n{\n  AS3935_WriteReg(id, AS3935_CALIBR_RCO_REG_ADDR, AS3935_DIRECT_CMD_REG_VALU);\n}\n\n/**\n * Sets all registers in default mode\n */\nvoid AS3935_PresetRegisterDefaults(uint8_t id)\n{\n  AS3935_WriteReg(id, AS3935_PRESET_DEF_REG_ADDR, AS3935_DIRECT_CMD_REG_VALU);\n}\n\n/*\n * Set the analog front end and watchdog operating mode.\n * Refer to as3935.h for possible operating modes.\n */\nvoid AS3935_SetAnalogFrontEnd(uint8_t id, uint8_t mode)\n{\n  uint8_t newAFESetting;\n  uint8_t currentAFESetting = AS3935_ReadReg(id, AS3935_PWD_AFEGB_REG_ADDR);\n  currentAFESetting = currentAFESetting & AFE_MASK;\n  if (mode == AFE_OUTDOOR)\n  {\n\tnewAFESetting = currentAFESetting & AFE_OUTDOOR;\n  \tAS3935_WriteReg(id, AS3935_PWD_AFEGB_REG_ADDR, newAFESetting);\n  }\n\n  if (mode == AFE_INDOOR)\n  {\n\tnewAFESetting = currentAFESetting & AFE_OUTDOOR;\n  \tAS3935_WriteReg(id, AS3935_PWD_AFEGB_REG_ADDR, newAFESetting);\n  }\n}\n\n/**\n * Retrieve the current operating mode of the AFE and watchdog.\n */\nuint8_t AS3935_GetAnalogFrontEnd(uint8_t id)\n{\n  return AS3935_ReadReg(id, AS3935_PWD_AFEGB_REG_ADDR);\n}\n\n/**\n * Disable the disturber detection feature on the AS3935.\n */\nvoid AS3935_DisableDisturbers(uint8_t id)\n{\n  AS3935_WriteReg(id, AS3935_MASK_DIST_REG_ADDR, 1);\n}\n\n/**\n * Enable the disturber detection feature on the AS3935.\n */\nvoid AS3935_EnableDisturbers(uint8_t id)\n{\n  AS3935_WriteReg(id, AS3935_MASK_DIST_REG_ADDR, 0);\n}\n\n/**\n * Get the defined minimum number of lightning events in the last 17 minutes that issue a lightning interrupt.\n */\nuint8_t AS3935_GetMinimumLightnings(uint8_t id)\n{\n  return AS3935_ReadReg(id, AS3935_MIN_LIGHT_REG_ADDR);\n}\n\n/**\n * Set the defined minimum number of lightning events in the last 17 minutes that issue a lightning interrupt.\n */\nuint8_t AS3935_SetMinimumLightnings(uint8_t id, uint8_t minimumLightning)\n{\n  AS3935_WriteReg(id, AS3935_MIN_LIGHT_REG_ADDR, minimumLightning);\n  return getMinimumLightnings();\n}\n\n/**\n * Get the defined threshold for the noise floor that triggers an interrupt.\n */\nuint8_t AS3935_GetNoiseFloor(uint8_t id)\n{\n  return AS3935_ReadReg(id, AS3935_NFLV_WDTH_REG_ADDR);\n}\n\n/**\n * Set the defined threshold for the noise floor that triggers an interrupt.\n */\nuint8_t AS3935_SetNoiseFloor(uint8_t id, int noiseFloor)\n{\n  AS3935_WriteReg(id, AS3935_NFLV_WDTH_REG_ADDR, noiseFloor);\n  return AS3935_GetNoiseFloor(id);\n}\n\n/**\n * Read current state of the interrupt register.\n * Issue a 2 millisecond delay per the datasheet recommendations.\n */\nuint8_t AS3935_ReadInterruptRegister(uint8_t id)\n{\n  return AS3935_ReadReg(id, AS3935_MASK_DIST_REG_ADDR);\n}\n\n/**\n * Reset the interrupt register.\n */\nvoid AS3935_ResetInterruptRegister(uint8_t id)\n{\n  uint8_t currentInterruptState = AS3935_ReadInterruptRegister(id);\n  uint8_t newInterruptState = currentInterruptState & INTRPT_MASK;\n  newInterruptState = newInterruptState | INTRPT_RESET;\n  AS3935_WriteReg(id, AS3935_MASK_DIST_REG_ADDR, newInterruptState);\n  return;\n}\n"
            },
            "other": {
                "as3935_config.h": ""
            }
        }
    },
    "label": "AS3935 Driver",
    "language": {
        "en": {
            "label": "AS3935 Driver"
        }
    },
    "links": {
        "Datasheet": "http://www.embeddedadventures.com/datasheets/AS3935_Datasheet_EN_v2.pdf",
        "Product Page": "http://www.embeddedadventures.com/as3935_lightning_sensor_module_mod-1016.html",
        "Wiki Page": "https://atmosphere.anaren.com/wiki/AS3935_Driver"
    },
    "manufacturer": "Embedded Adventures",
    "name": "as3935",
    "signature": "",
    "type": "Embedded Library",
    "version": "1.0.0"
}